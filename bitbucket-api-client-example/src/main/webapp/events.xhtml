<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/templates/default.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:jsf="http://xmlns.jcp.org/jsf"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<ui:define name="main">
<main>
<h1>Events</h1>
<h:dataTable styleClass="pure-table" columnClasses="app-align-right,"
    var="record" value="#{eventRecorder.records}">
<h:column>
<f:facet name="header">Id</f:facet>
#{record.id}
</h:column>
<h:column>
<f:facet name="header">Recorded</f:facet>
<h:outputText value="#{record.recorded}">
<f:convertDateTime type="both" timeStyle="long" timeZone="UTC" />
</h:outputText>
</h:column>
<h:column>
<f:facet name="header">Repository</f:facet>
<a jsf:value="#{record.event.repository.links['html']}" jsf:rel="external">
#{record.event.repository.fullName}</a>
</h:column>
<h:column>
<f:facet name="header">Actor</f:facet>
<a jsf:value="#{record.event.actor.links['html']}" jsf:rel="external">
<span title="#{record.event.actor.displayName}">
@#{record.event.actor.name}</span></a>
</h:column>
<h:column>
<f:facet name="header">Activity</f:facet>
<ui:fragment rendered="#{record.event.push != null}">
Push #{record.event.push.changes[0].new.type}
#{record.event.push.changes[0].new.name}</ui:fragment>
</h:column>
</h:dataTable>
</main>
</ui:define>
</ui:composition>
